"use strict";(self.webpackChunkreact_spectrum_adobe_digital_cafe=self.webpackChunkreact_spectrum_adobe_digital_cafe||[]).push([[640],{640:function(e,t,n){n.r(t),n.d(t,{Overlay:function(){return ot}});var r,i=n(4165),o=n(1413),a=n(5861),s=n(5671),l=n(3144),c=n(3433),u=n(7762),f=n(168),p=n(9439),h=n(7326),d=n(8301),v=n(1120),m=n(136),y=n(9388),g=n(9135),b=n(7773),x=n(4417),w=n(6945),k=n(2790),C=n(8351),Z=(0,g.iv)(r||(r=(0,f.Z)(["\n@keyframes sp-overlay-fade-in{0%{opacity:0;transform:var(--sp-overlay-from)}to{opacity:1;transform:translate(0)}}@keyframes sp-overlay-fade-out{0%{opacity:1;transform:translate(0)}to{opacity:0;transform:var(--sp-overlay-from)}}:host{display:inline-block;left:-9999em;max-height:100%;pointer-events:none;position:fixed;top:-9999em;z-index:1000}:host(:focus){outline:none}:host([placement=none]){height:100vh;height:100dvh;height:-webkit-fill-available;height:fill-available;left:0;position:fixed;top:0}#contents,sp-theme{height:100%}#contents{--swc-overlay-animation-distance:var(\n--spectrum-picker-m-texticon-popover-offset-y,var(--spectrum-global-dimension-size-75)\n);animation-duration:var(\n--swc-test-duration,var(--spectrum-global-animation-duration-200,.16s)\n);animation-timing-function:var(\n--spectrum-global-animation-ease-out,ease-out\n);box-sizing:border-box;display:inline-block;opacity:1;pointer-events:none;visibility:visible}:host([actual-placement*=top]) #contents{--sp-overlay-from:translateY(var(--spectrum-global-dimension-size-75));align-items:flex-end;display:inline-flex;padding-top:var(--swc-overlay-animation-distance)}:host([actual-placement*=right]) #contents{--sp-overlay-from:translateX(calc(var(--spectrum-global-dimension-size-75)*-1));padding-right:var(--swc-overlay-animation-distance)}:host([actual-placement*=bottom]) #contents{--sp-overlay-from:translateY(calc(var(--spectrum-global-dimension-size-75)*-1));padding-bottom:var(--swc-overlay-animation-distance)}:host([actual-placement*=left]) #contents{--sp-overlay-from:translateX(var(--spectrum-global-dimension-size-75));padding-left:var(--swc-overlay-animation-distance)}:host([animating]) ::slotted(*){pointer-events:none}:host(:not([animating])) ::slotted(*){pointer-events:auto}#contents ::slotted(*){position:relative}\n"]))),T=function e(t){if(!t)return null;var n=t.closest("active-overlay");if(n)return n;var r=t.getRootNode();return r.host?e(r.host):null},O=function e(t,n){var r=[];if(!t)return[];var i,o=(0,u.Z)(n);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.root&&T(a.root)===t&&(r.push(a),r.push.apply(r,(0,c.Z)(e(a,n))))}}catch(s){o.e(s)}finally{o.f()}return r},A=n(4925),E=n(4942),R=Math.min,P=Math.max,L=Math.round,F=Math.floor,D=function(e){return{x:e,y:e}},M={left:"right",right:"left",bottom:"top",top:"bottom"},S={start:"end",end:"start"};function _(e,t,n){return P(e,R(t,n))}function W(e,t){return"function"===typeof e?e(t):e}function H(e){return e.split("-")[0]}function z(e){return e.split("-")[1]}function N(e){return"x"===e?"y":"x"}function I(e){return"y"===e?"height":"width"}function B(e){return["top","bottom"].includes(H(e))?"y":"x"}function q(e){return N(B(e))}function K(e,t,n){void 0===n&&(n=!1);var r=z(e),i=q(e),o=I(i),a="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=X(a)),[a,X(a)]}function j(e){var t=X(e);return[V(e),t,V(t)]}function V(e){return e.replace(/start|end/g,(function(e){return S[e]}))}function U(e,t,n,r){var i=z(e),o=function(e,t,n){var r=["left","right"],i=["right","left"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?["top","bottom"]:["bottom","top"];default:return[]}}(H(e),"start"===n,r);return i&&(o=o.map((function(e){return e+"-"+i})),t&&(o=o.concat(o.map(V)))),o}function X(e){return e.replace(/left|right|bottom|top/g,(function(e){return M[e]}))}function Y(e){return"number"!==typeof e?function(e){return(0,o.Z)({top:0,right:0,bottom:0,left:0},e)}(e):{top:e,right:e,bottom:e,left:e}}function $(e){return(0,o.Z)((0,o.Z)({},e),{},{top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height})}var G=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],J=["mainAxis","crossAxis","limiter"],Q=["apply"];function ee(e,t,n){var r,i=e.reference,o=e.floating,a=B(t),s=q(t),l=I(s),c=H(t),u="y"===a,f=i.x+i.width/2-o.width/2,p=i.y+i.height/2-o.height/2,h=i[l]/2-o[l]/2;switch(c){case"top":r={x:f,y:i.y-o.height};break;case"bottom":r={x:f,y:i.y+i.height};break;case"right":r={x:i.x+i.width,y:p};break;case"left":r={x:i.x-o.width,y:p};break;default:r={x:i.x,y:i.y}}switch(z(t)){case"start":r[s]-=h*(n&&u?-1:1);break;case"end":r[s]+=h*(n&&u?-1:1)}return r}var te=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n,r){var a,s,l,c,u,f,p,h,d,v,m,y,g,b,x,w,k,C,Z,T,O,A,R,P,L,F;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.placement,s=void 0===a?"bottom":a,l=r.strategy,c=void 0===l?"absolute":l,u=r.middleware,f=void 0===u?[]:u,p=r.platform,h=f.filter(Boolean),e.next=4,null==p.isRTL?void 0:p.isRTL(n);case 4:return d=e.sent,e.next=7,p.getElementRects({reference:t,floating:n,strategy:c});case 7:v=e.sent,m=ee(v,s,d),y=m.x,g=m.y,b=s,x={},w=0,k=0;case 13:if(!(k<h.length)){e.next=46;break}return C=h[k],Z=C.name,T=C.fn,e.next=17,T({x:y,y:g,initialPlacement:s,placement:b,strategy:c,middlewareData:x,rects:v,platform:p,elements:{reference:t,floating:n}});case 17:if(O=e.sent,A=O.x,R=O.y,P=O.data,L=O.reset,y=null!=A?A:y,g=null!=R?R:g,x=(0,o.Z)((0,o.Z)({},x),{},(0,E.Z)({},Z,(0,o.Z)((0,o.Z)({},x[Z]),P))),!(L&&w<=50)){e.next=43;break}if(w++,"object"!==typeof L){e.next=41;break}if(L.placement&&(b=L.placement),!L.rects){e.next=38;break}if(!0!==L.rects){e.next=36;break}return e.next=33,p.getElementRects({reference:t,floating:n,strategy:c});case 33:e.t0=e.sent,e.next=37;break;case 36:e.t0=L.rects;case 37:v=e.t0;case 38:F=ee(v,b,d),y=F.x,g=F.y;case 41:return k=-1,e.abrupt("continue",43);case 43:k++,e.next=13;break;case 46:return e.abrupt("return",{x:y,y:g,placement:b,strategy:c,middlewareData:x});case 47:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function ne(e,t){return re.apply(this,arguments)}function re(){return re=(0,a.Z)((0,i.Z)().mark((function e(t,n){var r,a,s,l,c,u,f,p,h,d,v,m,y,g,b,x,w,k,C,Z,T,O,A,E,R;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n={}),a=t.x,s=t.y,l=t.platform,c=t.rects,u=t.elements,f=t.strategy,p=W(n,t),h=p.boundary,d=void 0===h?"clippingAncestors":h,v=p.rootBoundary,m=void 0===v?"viewport":v,y=p.elementContext,g=void 0===y?"floating":y,b=p.altBoundary,x=void 0!==b&&b,w=p.padding,k=Y(void 0===w?0:w),C="floating"===g?"reference":"floating",Z=u[x?C:g],e.t0=$,e.t1=l,e.next=10,null==l.isElement?void 0:l.isElement(Z);case 10:if(e.t2=r=e.sent,null==e.t2){e.next=15;break}e.t3=r,e.next=16;break;case 15:e.t3=!0;case 16:if(!e.t3){e.next=20;break}e.t4=Z,e.next=26;break;case 20:if(e.t5=Z.contextElement,e.t5){e.next=25;break}return e.next=24,null==l.getDocumentElement?void 0:l.getDocumentElement(u.floating);case 24:e.t5=e.sent;case 25:e.t4=e.t5;case 26:return e.t6=e.t4,e.t7=d,e.t8=m,e.t9=f,e.t10={element:e.t6,boundary:e.t7,rootBoundary:e.t8,strategy:e.t9},e.next=33,e.t1.getClippingRect.call(e.t1,e.t10);case 33:return e.t11=e.sent,T=(0,e.t0)(e.t11),O="floating"===g?(0,o.Z)((0,o.Z)({},c.floating),{},{x:a,y:s}):c.reference,e.next=38,null==l.getOffsetParent?void 0:l.getOffsetParent(u.floating);case 38:return A=e.sent,e.next=41,null==l.isElement?void 0:l.isElement(A);case 41:if(!e.sent){e.next=50;break}return e.next=44,null==l.getScale?void 0:l.getScale(A);case 44:if(e.t13=e.sent,e.t13){e.next=47;break}e.t13={x:1,y:1};case 47:e.t12=e.t13,e.next=51;break;case 50:e.t12={x:1,y:1};case 51:if(E=e.t12,e.t14=$,!l.convertOffsetParentRelativeRectToViewportRelativeRect){e.next=59;break}return e.next=56,l.convertOffsetParentRelativeRectToViewportRelativeRect({rect:O,offsetParent:A,strategy:f});case 56:e.t15=e.sent,e.next=60;break;case 59:e.t15=O;case 60:return e.t16=e.t15,R=(0,e.t14)(e.t16),e.abrupt("return",{top:(T.top-R.top+k.top)/E.y,bottom:(R.bottom-T.bottom+k.bottom)/E.y,left:(T.left-R.left+k.left)/E.x,right:(R.right-T.right+k.right)/E.x});case 63:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}var ie=function(e){return{name:"arrow",options:e,fn:function(t){return(0,a.Z)((0,i.Z)().mark((function n(){var r,o,a,s,l,c,u,f,p,h,d,v,m,y,g,b,x,w,k,C,Z,T,O,A,P,L,F,D,M,S,H,N,B,K,j;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t.x,s=t.y,l=t.placement,c=t.rects,u=t.platform,f=t.elements,p=W(e,t)||{},h=p.element,d=p.padding,v=void 0===d?0:d,null!=h){n.next=4;break}return n.abrupt("return",{});case 4:return m=Y(v),y={x:a,y:s},g=q(l),b=I(g),n.next=10,u.getDimensions(h);case 10:return x=n.sent,k=(w="y"===g)?"top":"left",C=w?"bottom":"right",Z=w?"clientHeight":"clientWidth",T=c.reference[b]+c.reference[g]-y[g]-c.floating[b],O=y[g]-c.reference[g],n.next=19,null==u.getOffsetParent?void 0:u.getOffsetParent(h);case 19:if(A=n.sent,P=A?A[Z]:0,n.t0=!P,n.t0){n.next=26;break}return n.next=25,null==u.isElement?void 0:u.isElement(A);case 25:n.t0=!n.sent;case 26:if(!n.t0){n.next=28;break}P=f.floating[Z]||c.floating[b];case 28:return L=T/2-O/2,F=P/2-x[b]/2-1,D=R(m[k],F),M=R(m[C],F),S=D,H=P-x[b]-M,N=P/2-x[b]/2+L,B=_(S,N,H),K=null!=z(l)&&N!=B&&c.reference[b]/2-(N<S?D:M)-x[b]/2<0,j=K?N<S?S-N:H-N:0,n.abrupt("return",(o={},(0,E.Z)(o,g,y[g]-j),(0,E.Z)(o,"data",(r={},(0,E.Z)(r,g,B),(0,E.Z)(r,"centerOffset",N-B+j),r)),o));case 39:case"end":return n.stop()}}),n)})))()}}};var oe=function(e){return void 0===e&&(e={}),{name:"flip",options:e,fn:function(t){return(0,a.Z)((0,i.Z)().mark((function n(){var r,o,a,s,l,u,f,p,h,d,v,m,y,g,b,x,w,k,C,Z,T,O,E,R,P,L,F,D,M,S,_,z,N,I,B,q;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.placement,a=t.middlewareData,s=t.rects,l=t.initialPlacement,u=t.platform,f=t.elements,p=W(e,t),h=p.mainAxis,d=void 0===h||h,v=p.crossAxis,m=void 0===v||v,y=p.fallbackPlacements,g=p.fallbackStrategy,b=void 0===g?"bestFit":g,x=p.fallbackAxisSideDirection,w=void 0===x?"none":x,k=p.flipAlignment,C=void 0===k||k,Z=(0,A.Z)(p,G),T=H(o),O=H(l)===l,n.next=6,null==u.isRTL?void 0:u.isRTL(f.floating);case 6:return E=n.sent,R=y||(O||!C?[X(l)]:j(l)),y||"none"===w||R.push.apply(R,(0,c.Z)(U(l,C,w,E))),P=[l].concat((0,c.Z)(R)),n.next=12,ne(t,Z);case 12:if(L=n.sent,F=[],D=(null==(r=a.flip)?void 0:r.overflows)||[],d&&F.push(L[T]),m&&(M=K(o,s,E),F.push(L[M[0]],L[M[1]])),D=[].concat((0,c.Z)(D),[{placement:o,overflows:F}]),F.every((function(e){return e<=0}))){n.next=35;break}if(z=((null==(S=a.flip)?void 0:S.index)||0)+1,!(N=P[z])){n.next=23;break}return n.abrupt("return",{data:{index:z,overflows:D},reset:{placement:N}});case 23:if(I=null==(_=D.filter((function(e){return e.overflows[0]<=0})).sort((function(e,t){return e.overflows[1]-t.overflows[1]}))[0])?void 0:_.placement){n.next=33;break}n.t0=b,n.next="bestFit"===n.t0?28:"initialPlacement"===n.t0?31:33;break;case 28:return q=null==(B=D.map((function(e){return[e.placement,e.overflows.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0)]})).sort((function(e,t){return e[1]-t[1]}))[0])?void 0:B[0],q&&(I=q),n.abrupt("break",33);case 31:return I=l,n.abrupt("break",33);case 33:if(o===I){n.next=35;break}return n.abrupt("return",{reset:{placement:I}});case 35:return n.abrupt("return",{});case 36:case"end":return n.stop()}}),n)})))()}}};function ae(e,t){return se.apply(this,arguments)}function se(){return se=(0,a.Z)((0,i.Z)().mark((function e(t,n){var r,a,s,l,c,u,f,p,h,d,v,m,y,g;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.placement,a=t.platform,s=t.elements,e.next=3,null==a.isRTL?void 0:a.isRTL(s.floating);case 3:return l=e.sent,c=H(r),u=z(r),f="y"===B(r),p=["left","top"].includes(c)?-1:1,h=l&&f?-1:1,d=W(n,t),v="number"===typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:(0,o.Z)({mainAxis:0,crossAxis:0,alignmentAxis:null},d),m=v.mainAxis,y=v.crossAxis,g=v.alignmentAxis,u&&"number"===typeof g&&(y="end"===u?-1*g:g),e.abrupt("return",f?{x:y*h,y:m*p}:{x:m*p,y:y*h});case 13:case"end":return e.stop()}}),e)}))),se.apply(this,arguments)}var le=function(e){return void 0===e&&(e=0),{name:"offset",options:e,fn:function(t){return(0,a.Z)((0,i.Z)().mark((function n(){var r,o,a;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.x,o=t.y,n.next=3,ae(t,e);case 3:return a=n.sent,n.abrupt("return",{x:r+a.x,y:o+a.y,data:a});case 5:case"end":return n.stop()}}),n)})))()}}},ce=function(e){return void 0===e&&(e={}),{name:"shift",options:e,fn:function(t){return(0,a.Z)((0,i.Z)().mark((function n(){var r,a,s,l,c,u,f,p,h,d,v,m,y,g,b,x,w,k,C,Z,T,O,R,P,L;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.x,s=t.y,l=t.placement,c=W(e,t),u=c.mainAxis,f=void 0===u||u,p=c.crossAxis,h=void 0!==p&&p,d=c.limiter,v=void 0===d?{fn:function(e){return{x:e.x,y:e.y}}}:d,m=(0,A.Z)(c,J),y={x:a,y:s},n.next=5,ne(t,m);case 5:return g=n.sent,b=B(H(l)),x=N(b),w=y[x],k=y[b],f&&(C="y"===x?"bottom":"right",Z=w+g["y"===x?"top":"left"],T=w-g[C],w=_(Z,w,T)),h&&(O="y"===b?"bottom":"right",R=k+g["y"===b?"top":"left"],P=k-g[O],k=_(R,k,P)),L=v.fn((0,o.Z)((0,o.Z)({},t),{},(r={},(0,E.Z)(r,x,w),(0,E.Z)(r,b,k),r))),n.abrupt("return",(0,o.Z)((0,o.Z)({},L),{},{data:{x:L.x-a,y:L.y-s}}));case 14:case"end":return n.stop()}}),n)})))()}}},ue=function(e){return void 0===e&&(e={}),{name:"size",options:e,fn:function(t){return(0,a.Z)((0,i.Z)().mark((function n(){var r,a,s,l,c,u,f,p,h,d,v,m,y,g,b,x,w,k,C,Z,T,O,E,L,F,D,M,S,_;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.placement,a=t.rects,s=t.platform,l=t.elements,c=W(e,t),u=c.apply,f=void 0===u?function(){}:u,p=(0,A.Z)(c,Q),n.next=4,ne(t,p);case 4:if(h=n.sent,d=H(r),v=z(r),m="y"===B(r),y=a.floating,g=y.width,b=y.height,"top"!==d&&"bottom"!==d){n.next=28;break}return x=d,n.t0=v,n.next=14,null==s.isRTL?void 0:s.isRTL(l.floating);case 14:if(!n.sent){n.next=18;break}n.t1="start",n.next=19;break;case 18:n.t1="end";case 19:if(n.t2=n.t1,n.t0!==n.t2){n.next=24;break}n.t3="left",n.next=25;break;case 24:n.t3="right";case 25:w=n.t3,n.next=30;break;case 28:w=d,x="end"===v?"top":"bottom";case 30:return k=b-h[x],C=g-h[w],Z=!t.middlewareData.shift,T=k,O=C,m?(E=g-h.left-h.right,O=v||Z?R(C,E):E):(L=b-h.top-h.bottom,T=v||Z?R(k,L):L),Z&&!v&&(F=P(h.left,0),D=P(h.right,0),M=P(h.top,0),S=P(h.bottom,0),m?O=g-2*(0!==F||0!==D?F+D:P(h.left,h.right)):T=b-2*(0!==M||0!==S?M+S:P(h.top,h.bottom))),n.next=39,f((0,o.Z)((0,o.Z)({},t),{},{availableWidth:O,availableHeight:T}));case 39:return n.next=41,s.getDimensions(l.floating);case 41:if(_=n.sent,g===_.width&&b===_.height){n.next=44;break}return n.abrupt("return",{reset:{rects:!0}});case 44:return n.abrupt("return",{});case 45:case"end":return n.stop()}}),n)})))()}}};function fe(e){return de(e)?(e.nodeName||"").toLowerCase():"#document"}function pe(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function he(e){var t;return null==(t=(de(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function de(e){return e instanceof Node||e instanceof pe(e).Node}function ve(e){return e instanceof Element||e instanceof pe(e).Element}function me(e){return e instanceof HTMLElement||e instanceof pe(e).HTMLElement}function ye(e){return"undefined"!==typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof pe(e).ShadowRoot)}function ge(e){var t=Ce(e),n=t.overflow,r=t.overflowX,i=t.overflowY,o=t.display;return/auto|scroll|overlay|hidden|clip/.test(n+i+r)&&!["inline","contents"].includes(o)}function be(e){return["table","td","th"].includes(fe(e))}function xe(e){var t=we(),n=Ce(e);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((function(e){return(n.willChange||"").includes(e)}))||["paint","layout","strict","content"].some((function(e){return(n.contain||"").includes(e)}))}function we(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function ke(e){return["html","body","#document"].includes(fe(e))}function Ce(e){return pe(e).getComputedStyle(e)}function Ze(e){return ve(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Te(e){if("html"===fe(e))return e;var t=e.assignedSlot||e.parentNode||ye(e)&&e.host||he(e);return ye(t)?t.host:t}function Oe(e){var t=Te(e);return ke(t)?e.ownerDocument?e.ownerDocument.body:e.body:me(t)&&ge(t)?t:Oe(t)}function Ae(e,t){var n;void 0===t&&(t=[]);var r=Oe(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=pe(r);return i?t.concat(o,o.visualViewport||[],ge(r)?r:[]):t.concat(r,Ae(r))}function Ee(e){var t=Ce(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,i=me(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=L(n)!==o||L(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function Re(e){return ve(e)?e:e.contextElement}function Pe(e){var t=Re(e);if(!me(t))return D(1);var n=t.getBoundingClientRect(),r=Ee(t),i=r.width,o=r.height,a=r.$,s=(a?L(n.width):n.width)/i,l=(a?L(n.height):n.height)/o;return s&&Number.isFinite(s)||(s=1),l&&Number.isFinite(l)||(l=1),{x:s,y:l}}var Le=D(0);function Fe(e){var t=pe(e);return we()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Le}function De(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),o=Re(e),a=D(1);t&&(r?ve(r)&&(a=Pe(r)):a=Pe(e));var s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==pe(e))&&t}(o,n,r)?Fe(o):D(0),l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,f=i.height/a.y;if(o)for(var p=pe(o),h=r&&ve(r)?pe(r):r,d=p.frameElement;d&&r&&h!==p;){var v=Pe(d),m=d.getBoundingClientRect(),y=Ce(d),g=m.left+(d.clientLeft+parseFloat(y.paddingLeft))*v.x,b=m.top+(d.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,f*=v.y,l+=g,c+=b,d=pe(d).frameElement}return $({width:u,height:f,x:l,y:c})}function Me(e){return De(he(e)).left+Ze(e).scrollLeft}function Se(e,t,n){var r;if("viewport"===t)r=function(e,t){var n=pe(e),r=he(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var c=we();(!c||c&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s,y:l}}(e,n);else if("document"===t)r=function(e){var t=he(e),n=Ze(e),r=e.ownerDocument.body,i=P(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=P(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),a=-n.scrollLeft+Me(e),s=-n.scrollTop;return"rtl"===Ce(r).direction&&(a+=P(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}(he(e));else if(ve(t))r=function(e,t){var n=De(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=me(e)?Pe(e):D(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}(t,n);else{var i=Fe(e);r=(0,o.Z)((0,o.Z)({},t),{},{x:t.x-i.x,y:t.y-i.y})}return $(r)}function _e(e,t){var n=Te(e);return!(n===t||!ve(n)||ke(n))&&("fixed"===Ce(n).position||_e(n,t))}function We(e,t,n){var r=me(t),i=he(t),o="fixed"===n,a=De(e,!0,o,t),s={scrollLeft:0,scrollTop:0},l=D(0);if(r||!r&&!o)if(("body"!==fe(t)||ge(i))&&(s=Ze(t)),r){var c=De(t,!0,o,t);l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}else i&&(l.x=Me(i));return{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function He(e,t){return me(e)&&"fixed"!==Ce(e).position?t?t(e):e.offsetParent:null}function ze(e,t){var n=pe(e);if(!me(e))return n;for(var r=He(e,t);r&&be(r)&&"static"===Ce(r).position;)r=He(r,t);return r&&("html"===fe(r)||"body"===fe(r)&&"static"===Ce(r).position&&!xe(r))?n:r||function(e){for(var t=Te(e);me(t)&&!ke(t);){if(xe(t))return t;t=Te(t)}return null}(e)||n}var Ne=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n,r,a,s,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.reference,r=t.floating,a=t.strategy,s=this.getOffsetParent||ze,l=this.getDimensions,e.t0=We,e.t1=n,e.next=7,s(r);case 7:return e.t2=e.sent,e.t3=a,e.t4=(0,e.t0)(e.t1,e.t2,e.t3),e.t5=o.Z,e.t6={x:0,y:0},e.next=14,l(r);case 14:return e.t7=e.sent,e.t8=(0,e.t5)(e.t6,e.t7),e.abrupt("return",{reference:e.t4,floating:e.t8});case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();var Ie={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){var t=e.rect,n=e.offsetParent,r=e.strategy,i=me(n),o=he(n);if(n===o)return t;var a={scrollLeft:0,scrollTop:0},s=D(1),l=D(0);if((i||!i&&"fixed"!==r)&&(("body"!==fe(n)||ge(o))&&(a=Ze(n)),me(n))){var c=De(n);s=Pe(n),l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-a.scrollLeft*s.x+l.x,y:t.y*s.y-a.scrollTop*s.y+l.y}},getDocumentElement:he,getClippingRect:function(e){var t=e.element,n=e.boundary,r=e.rootBoundary,i=e.strategy,o="clippingAncestors"===n?function(e,t){var n=t.get(e);if(n)return n;for(var r=Ae(e).filter((function(e){return ve(e)&&"body"!==fe(e)})),i=null,o="fixed"===Ce(e).position,a=o?Te(e):e;ve(a)&&!ke(a);){var s=Ce(a),l=xe(a);l||"fixed"!==s.position||(i=null),(o?!l&&!i:!l&&"static"===s.position&&i&&["absolute","fixed"].includes(i.position)||ge(a)&&!l&&_e(e,a))?r=r.filter((function(e){return e!==a})):i=s,a=Te(a)}return t.set(e,r),r}(t,this._c):[].concat(n),a=[].concat((0,c.Z)(o),[r]),s=a[0],l=a.reduce((function(e,n){var r=Se(t,n,i);return e.top=P(r.top,e.top),e.right=R(r.right,e.right),e.bottom=R(r.bottom,e.bottom),e.left=P(r.left,e.left),e}),Se(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:ze,getElementRects:Ne,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){return Ee(e)},getScale:Pe,isElement:ve,isRTL:function(e){return"rtl"===Ce(e).direction}};function Be(e,t,n,r){void 0===r&&(r={});var i=r,a=i.ancestorScroll,s=void 0===a||a,l=i.ancestorResize,u=void 0===l||l,f=i.elementResize,h=void 0===f?"function"===typeof ResizeObserver:f,d=i.layoutShift,v=void 0===d?"function"===typeof IntersectionObserver:d,m=i.animationFrame,y=void 0!==m&&m,g=Re(e),b=s||u?[].concat((0,c.Z)(g?Ae(g):[]),(0,c.Z)(Ae(t))):[];b.forEach((function(e){s&&e.addEventListener("scroll",n,{passive:!0}),u&&e.addEventListener("resize",n)}));var x,w=g&&v?function(e,t){var n,r=null,i=he(e);function a(){clearTimeout(n),r&&r.disconnect(),r=null}return function s(l,c){void 0===l&&(l=!1),void 0===c&&(c=1),a();var u=e.getBoundingClientRect(),f=u.left,p=u.top,h=u.width,d=u.height;if(l||t(),h&&d){var v={rootMargin:-F(p)+"px "+-F(i.clientWidth-(f+h))+"px "+-F(i.clientHeight-(p+d))+"px "+-F(f)+"px",threshold:P(0,R(1,c))||1},m=!0;try{r=new IntersectionObserver(y,(0,o.Z)((0,o.Z)({},v),{},{root:i.ownerDocument}))}catch(g){r=new IntersectionObserver(y,v)}r.observe(e)}function y(e){var t=e[0].intersectionRatio;if(t!==c){if(!m)return s();t?s(!1,t):n=setTimeout((function(){s(!1,1e-7)}),100)}m=!1}}(!0),a}(g,n):null,k=-1,C=null;h&&(C=new ResizeObserver((function(e){var r=(0,p.Z)(e,1)[0];r&&r.target===g&&C&&(C.unobserve(t),cancelAnimationFrame(k),k=requestAnimationFrame((function(){C&&C.observe(t)}))),n()})),g&&!y&&C.observe(g),C.observe(t));var Z=y?De(e):null;return y&&function t(){var r=De(e);!Z||r.x===Z.x&&r.y===Z.y&&r.width===Z.width&&r.height===Z.height||n();Z=r,x=requestAnimationFrame(t)}(),n(),function(){b.forEach((function(e){s&&e.removeEventListener("scroll",n),u&&e.removeEventListener("resize",n)})),w&&w(),C&&C.disconnect(),C=null,y&&cancelAnimationFrame(x)}}var qe,Ke,je=function(e,t,n){var r=new Map,i=(0,o.Z)({platform:Ie},n),a=(0,o.Z)((0,o.Z)({},i.platform),{},{_c:r});return te(e,t,(0,o.Z)((0,o.Z)({},i),{},{platform:a}))},Ve=Object.defineProperty,Ue=Object.getOwnPropertyDescriptor,Xe=function(e,t,n,r){for(var i,o=r>1?void 0:r?Ue(t,n):t,a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r?i(t,n,o):i(o))||o);return r&&o&&Ve(t,n,o),o},Ye={initial:"idle",states:{idle:{on:{active:"active"}},active:{on:{hiding:"hiding",idle:"idle"}},hiding:{on:{dispose:"dispose"}},dispose:{on:{disposed:"disposed"}},disposed:{on:{}}}},$e=function(e,t){return e?t&&Ye.states[e].on[t]||e:Ye.initial},Ge=function(e){var t;return null!=(t={left:["right","bottom","top"],"left-start":["right-start","bottom","top"],"left-end":["right-end","bottom","top"],right:["left","bottom","top"],"right-start":["left-start","bottom","top"],"right-end":["left-end","bottom","top"],top:["bottom","left","right"],"top-start":["bottom-start","left","right"],"top-end":["bottom-end","left","right"],bottom:["top","left","right"],"bottom-start":["top-start","left","right"],"bottom-end":["top-end","left","right"]}[e])?t:[e]},Je=function(e){(0,m.Z)(n,e);var t=(0,y.Z)(n);function n(){var e;return(0,s.Z)(this,n),(e=t.call(this)).contentAnimationPromise=Promise.resolve(!0),e.resolveContentAnimationPromise=function(){},e._state=$e(),e.animating=!1,e.theme={},e.tabbingAway=!1,e.offset=6,e.skidding=0,e.interaction="hover",e.positionAnimationFrame=0,e.willNotifyClosed=!1,e.isConstrained=!1,e.updateOverlayPosition=function(){"modal"!==e.interaction&&e.cleanup?e.dispatchEvent(new Event("close")):e.setOverlayPosition()},e.resetOverlayPosition=function(){e.style.removeProperty("max-height"),e.style.removeProperty("height"),e.initialHeight=void 0,e.isConstrained=!1,e.offsetHeight,e.setOverlayPosition()},e.setOverlayPosition=(0,a.Z)((0,i.Z)().mark((function t(){var n,r,o,a,s,l,c,u,f,p,d;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=function(e){var t=window.devicePixelRatio||1;return Math.round(e*t)/t||-1e4},e.placement&&"none"!==e.placement){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,document.fonts?document.fonts.ready:Promise.resolve();case 5:return 8,100,r=e.virtualTrigger?oe({padding:8,fallbackPlacements:Ge(e.placement)}):oe({padding:8}),o=[le({mainAxis:e.offset,crossAxis:e.skidding}),ce({padding:8}),r,ue({padding:8,apply:function(t){var n=t.availableWidth,r=t.availableHeight,i=t.rects.floating,o=Math.max(100,Math.floor(r)),a=i.height;e.initialHeight=(e.isConstrained||e.virtualTrigger)&&e.initialHeight||a,e.isConstrained=a<e.initialHeight||o<=a;var s=e.isConstrained?"".concat(o,"px"):"";Object.assign(e.style,{maxWidth:"".concat(Math.floor(n),"px"),maxHeight:s,height:s})}})],e.overlayContentTip&&o.push(ie({element:e.overlayContentTip})),t.next=9,je(e.virtualTrigger||e.trigger,(0,h.Z)(e),{placement:e.placement,middleware:o,strategy:"fixed"});case 9:a=t.sent,s=a.x,l=a.y,c=a.placement,u=a.middlewareData,Object.assign(e.style,{top:"0px",left:"0px",transform:"translate(".concat(n(s),"px, ").concat(n(l),"px)")}),c!==e.getAttribute("actual-placement")&&(e.setAttribute("actual-placement",c),e.overlayContent.setAttribute("placement",c)),e.overlayContentTip&&u.arrow&&(f=u.arrow,p=f.x,d=f.y,Object.assign(e.overlayContentTip.style,{left:null!=p?"".concat(n(p),"px"):"",top:null!=d?"".concat(n(d),"px"):"",right:"",bottom:""}));case 15:case"end":return t.stop()}}),t)}))),e.handleInlineTriggerKeydown=function(t){var n=t.code,r=t.shiftKey;if("Tab"===n){if(r)return e.tabbingAway=!0,void e.dispatchEvent(new Event("close"));t.stopPropagation(),t.preventDefault(),e.focus()}},e.stealOverlayContentPromise=Promise.resolve(),e.stealOverlayContentPromise=new Promise((function(t){return e.stealOverlayContentResolver=t})),e}return(0,l.Z)(n,[{key:"state",get:function(){return this._state},set:function(e){var t=$e(this.state,e);t!==this.state&&(this._state=t,"active"===this.state||"hiding"===this.state?this.setAttribute("state",this.state):this.removeAttribute("state"))}},{key:"focus",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=(0,C.i)(this))){e.next=10;break}if(e.t0=t.updateComplete,!e.t0){e.next=6;break}return e.next=6,t.updateComplete;case 6:((r=this.getRootNode().activeElement)===this||!this.contains(r))&&t.focus(),e.next=11;break;case 10:(0,d.Z)((0,v.Z)(n.prototype),"focus",this).call(this);case 11:this.removeAttribute("tabindex");case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hasTheme",get:function(){return!!this.theme.color||!!this.theme.scale||!!this.theme.lang}},{key:"hasModalRoot",get:function(){return!!this._modalRoot}},{key:"feature",value:function(){this.contains(document.activeElement)||(this.tabIndex=-1);var e=T(this.trigger);e&&"open"===e.slot&&(this._modalRoot=e._modalRoot||e),("modal"===this.interaction||this._modalRoot)&&(this.slot="open","modal"===this.interaction&&this.setAttribute("aria-modal","true"),this._modalRoot&&(null==e||e.feature()))}},{key:"obscure",value:function(e){if(this.slot&&"modal"===e){if(this.removeAttribute("slot"),this.removeAttribute("aria-modal"),"modal"!==this.interaction){var t=T(this.trigger);return this._modalRoot=null==t?void 0:t.obscure(e),this._modalRoot}return this}}},{key:"willUpdate",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hasUpdated||!this.overlayContent||!this.trigger,e.t0){e.next=11;break}if(this.stealOverlayContent(this.overlayContent),this.state="active",this.feature(),e.t1=this.placement&&"none"!==this.placement,!e.t1){e.next=10;break}return e.next=9,this.updateOverlayPosition();case 9:document.addEventListener("sp-update-overlays",this.resetOverlayPosition);case 10:this.placement&&"none"!==this.placement&&(this.contentAnimationPromise=this.applyContentAnimation("sp-overlay-fade-in"));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"openCallback",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateComplete;case 2:if(e.t0=this.receivesFocus,!e.t0){e.next=6;break}return e.next=6,this.focus();case 6:return e.next=8,t();case 8:this.trigger.dispatchEvent(new CustomEvent("sp-opened",{bubbles:!0,composed:!0,cancelable:!0,detail:{interaction:this.interaction}}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"open",value:function(e){this.extractDetail(e)}},{key:"extractDetail",value:function(e){this.overlayContent=e.content,this.overlayContentTip=e.contentTip,this.trigger=e.trigger,this.virtualTrigger=e.virtualTrigger,this.placement=e.placement,this.offset=e.offset,this.skidding=e.skidding||0,this.interaction=e.interaction,this.theme=e.theme,this.receivesFocus=e.receivesFocus,this.root=e.root}},{key:"dispose",value:function(){"dispose"===this.state&&(this.timeout&&(clearTimeout(this.timeout),delete this.timeout),this.trigger.removeEventListener("keydown",this.handleInlineTriggerKeydown),this.returnOverlayContent(),this.state="disposed",this.willNotifyClosed&&(this.overlayContent.dispatchEvent(new Event("sp-overlay-closed")),this.willNotifyClosed=!1),this.cleanup&&this.cleanup())}},{key:"stealOverlayContent",value:function(e){this.originalPlacement=e.getAttribute("placement"),this.restoreContent=(0,k.G)([e],this,{position:"beforeend",prepareCallback:function(e){var t=e.slot,n=e.placement;return e.removeAttribute("slot"),function(e){e.slot=t,e.placement=n}}}),this.stealOverlayContentResolver()}},{key:"returnOverlayContent",value:function(){if(this.restoreContent){var e=this.restoreContent(),t=(0,p.Z)(e,1)[0];this.restoreContent=void 0,this.willNotifyClosed=!0,this.originalPlacement&&(t.setAttribute("placement",this.originalPlacement),delete this.originalPlacement)}}},{key:"placeOverlay",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!this.placement||"none"===this.placement||(this.cleanup=Be(this.virtualTrigger||this.trigger,this,this.updateOverlayPosition,{elementResize:!1}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hide",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t,n=arguments;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(n.length>0&&void 0!==n[0])||n[0],e.t0="active"===this.state,!e.t0){e.next=9;break}if(this.state="hiding",e.t1=t,!e.t1){e.next=8;break}return e.next=8,this.applyContentAnimation("sp-overlay-fade-out");case 8:this.state="dispose";case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"schedulePositionUpdate",value:function(){var e=this;cancelAnimationFrame(this.positionAnimationFrame),this.positionAnimationFrame=requestAnimationFrame((function(){e.cleanup?e.updateOverlayPosition():e.placeOverlay()}))}},{key:"onSlotChange",value:function(){this.schedulePositionUpdate()}},{key:"applyContentAnimation",value:function(e){var t=this;return"none"===this.placement?Promise.resolve(!0):(this.resolveContentAnimationPromise(),new Promise((function(n){t.resolveContentAnimationPromise=function(){n(!1)};var r=t.shadowRoot.querySelector("#contents"),i=function i(o){e===o.animationName&&(r.removeEventListener("animationend",i),r.removeEventListener("animationcancel",i),t.animating=!1,n("animationcancel"===o.type))};r.addEventListener("animationend",i),r.addEventListener("animationcancel",i),r.style.animationName=e,t.animating=!0})))}},{key:"renderTheme",value:function(e){var t=this.theme,n=t.color,r=t.scale,i=t.lang,o=t.theme;return(0,g.dy)(qe||(qe=(0,f.Z)(["\n            <sp-theme\n                theme=","\n                color=","\n                scale=","\n                lang=",'\n                part="theme"\n            >\n                ',"\n            </sp-theme>\n        "])),(0,x.o)(o),(0,x.o)(n),(0,x.o)(r),(0,x.o)(i),e)}},{key:"render",value:function(){var e=(0,g.dy)(Ke||(Ke=(0,f.Z)(['\n            <div id="contents">\n                <slot @slotchange=',"></slot>\n            </div>\n        "])),this.onSlotChange);return this.hasTheme?this.renderTheme(e):e}},{key:"getUpdateComplete",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var t,r,o,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=[(0,d.Z)((0,v.Z)(n.prototype),"getUpdateComplete",this).call(this),this.stealOverlayContentPromise]).push(this.contentAnimationPromise),"undefined"!=typeof this.overlayContent.updateComplete&&t.push(this.overlayContent.updateComplete),e.next=4,Promise.all(t);case 4:return r=e.sent,o=(0,p.Z)(r,1),a=o[0],e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"disconnectedCallback",value:function(){document.removeEventListener("sp-update-overlays",this.resetOverlayPosition),(0,d.Z)((0,v.Z)(n.prototype),"disconnectedCallback",this).call(this)}}],[{key:"styles",get:function(){return[Z]}},{key:"create",value:function(e){var t=new n;return e.content&&t.open(e),t}}]),n}(b.o),Qe=Je;Xe([(0,w.Cb)()],Qe.prototype,"_state",2),Xe([(0,w.Cb)({reflect:!0,type:Boolean})],Qe.prototype,"animating",2),Xe([(0,w.Cb)({reflect:!0})],Qe.prototype,"placement",2),Xe([(0,w.Cb)({attribute:!1})],Qe.prototype,"theme",2),Xe([(0,w.Cb)({attribute:!1})],Qe.prototype,"receivesFocus",2);var et=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.Z)(this,e),this.warmUpDelay=1e3,this.coolDownDelay=1e3,this.isWarm=!1,this.timeout=0,Object.assign(this,t)}return(0,l.Z)(e,[{key:"openTimer",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n=this;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.cancelCooldownTimer(),this.component&&t===this.component){e.next=2;break}return e.abrupt("return",(this.component&&(this.close(this.component),this.cancelCooldownTimer()),this.component=t,!this.isWarm&&(this.promise=new Promise((function(e){n.resolve=e,n.timeout=window.setTimeout((function(){n.resolve&&(n.resolve(!1),n.isWarm=!0)}),n.warmUpDelay)})),this.promise)));case 2:if(!this.promise){e.next=4;break}return e.abrupt("return",this.promise);case 4:throw new Error("Inconsistent state");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"close",value:function(e){this.component&&this.component===e&&(this.resetCooldownTimer(),this.timeout>0&&(clearTimeout(this.timeout),this.timeout=0),this.resolve&&(this.resolve(!0),delete this.resolve),delete this.promise,delete this.component)}},{key:"resetCooldownTimer",value:function(){var e=this;this.isWarm&&(this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),this.cooldownTimeout=window.setTimeout((function(){e.isWarm=!1,delete e.cooldownTimeout}),this.coolDownDelay))}},{key:"cancelCooldownTimer",value:function(){this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),delete this.cooldownTimeout}}]),e}();(0,n(887).N)("active-overlay",Qe);var tt=function(e,t){for(var n=document.elementFromPoint(e,t);null!=n&&n.shadowRoot;){var r=n.shadowRoot.elementFromPoint(e,t);if(!r||r===n)break;n=r}return n};function nt(){return new Promise((function(e){return requestAnimationFrame((function(){return e()}))}))}var rt=function(){function e(){var t=this;(0,s.Z)(this,e),this.overlays=[],this.preventMouseRootClose=!1,this.root=document.body,this.handlingResize=!1,this.overlayTimer=new et,this.canTabTrap=!0,this.trappingInited=!1,this._eventsAreBound=!1,this._bodyMarginsApplied=!1,this.forwardContextmenuEvent=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(n){var r,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.overlays[t.overlays.length-1],e.t0=!t.trappingInited||"modal"!==o.interaction||n.target!==t.overlayHolder,e.t0){e.next=8;break}return n.stopPropagation(),n.preventDefault(),e.next=7,t.closeTopOverlay();case 7:null==(r=tt(n.clientX,n.clientY))||r.dispatchEvent(new MouseEvent("contextmenu",n));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.handleOverlayClose=function(e){var n=e.root;n&&t.closeOverlaysForRoot(n)},this.handleMouseCapture=function(e){var n=t.topOverlay;if(e.target&&n&&n.overlayContent&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)&&function(e){return 0===e.button}(e)){if(e.target instanceof Node){if(e.composedPath().indexOf(n.overlayContent)>=0)return void(t.preventMouseRootClose=!0);t.preventMouseRootClose=!1}}else t.preventMouseRootClose=!0},this._doesNotCloseOnFirstClick=!1,this.handleMouse=function(e){var n;if(t._doesNotCloseOnFirstClick)t._doesNotCloseOnFirstClick=!1;else if(!t.preventMouseRootClose&&!e.defaultPrevented){for(var r=[],i=t.overlays.length;i&&0===r.length;){i-=1;var o=t.overlays[i],a=e.composedPath();(!a.includes(o.trigger)||"hover"!==o.interaction)&&!a.includes(o.overlayContent)&&r.push(o)}for(var s=null==(n=t.topOverlay)?void 0:n.root,l=T(s);s&&l;)r.push(l),s=null==(l=T(s))?void 0:l.root;l&&r.push(l),r.forEach((function(e){return t.hideAndCloseOverlay(e)}))}},this.handleKeydown=function(e){"Escape"===e.code&&t.closeTopOverlay()},this.handleResize=function(){t.handlingResize||(t.handlingResize=!0,requestAnimationFrame((0,a.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.overlays.map((function(e){return e.updateOverlayPosition()})),e.next=3,Promise.all(n);case 3:t.handlingResize=!1;case 4:case"end":return e.stop()}}),e)})))))},this.initTabTrapping()}return(0,l.Z)(e,[{key:"initTabTrapping",value:function(){var e=this;if("loading"!==document.readyState){if(!this.trappingInited)if(this.document.body.shadowRoot)this.canTabTrap=!1;else if(this.document.body.attachShadow({mode:"open"}),this.document.body.shadowRoot){this.trappingInited=!0;var t=this.document.body.shadowRoot;t.innerHTML='\n            <style>\n            :host {\n                position: relative;\n            }\n            #actual {\n                position: relative;\n                height: calc(100% - var(--swc-body-margins-block, 0px));\n                z-index: 0;\n                min-height: calc(100vh - var(--swc-body-margins-block, 0px));\n                min-height: calc(100dvh - var(--swc-body-margins-block, 0px));\n            }\n            #holder {\n                display: none;\n                align-items: center;\n                justify-content: center;\n                flex-flow: column;\n                width: 100%;\n                height: 100%;\n                position: absolute;\n                top: 0;\n                left: 0;\n            }\n            [name="open"]::slotted(*) {\n                pointer-events: all;\n            }\n            #actual[aria-hidden] + #holder {\n                display: flex;\n            }\n            </style>\n            <div id="actual"><slot></slot></div>\n            <div id="holder"><slot name="open"></slot></div>\n        ',this.tabTrapper=t.querySelector("#actual"),this.overlayHolder=t.querySelector("#holder"),this.tabTrapper.attachShadow({mode:"open"}),this.tabTrapper.shadowRoot&&(this.tabTrapper.shadowRoot.innerHTML="<slot></slot>"),this.overlayHolder.addEventListener("contextmenu",this.forwardContextmenuEvent,!0),requestAnimationFrame((function(){e.applyBodyMargins(),new ResizeObserver((function(){e.applyBodyMargins()})).observe(document.body)}))}}else document.addEventListener("readystatechange",(function(){e.initTabTrapping()}),{once:!0})}},{key:"applyBodyMargins",value:function(){var e=getComputedStyle(document.body),t=e.marginLeft,n=e.marginRight,r=e.marginTop,i=e.marginBottom,o=0===parseFloat(t)&&0===parseFloat(n)&&0===parseFloat(r)&&0===parseFloat(i);o&&!this._bodyMarginsApplied||(this.tabTrapper.style.setProperty("--swc-body-margins-inline","calc(".concat(t," + ").concat(n,")")),this.tabTrapper.style.setProperty("--swc-body-margins-block","calc(".concat(r," + ").concat(i,")")),this._bodyMarginsApplied=!o)}},{key:"startTabTrapping",value:function(){this.initTabTrapping(),this.canTabTrap&&(this.tabTrapper.tabIndex=-1,this.tabTrapper.setAttribute("aria-hidden","true"))}},{key:"stopTabTrapping",value:function(){!this.canTabTrap||!this.trappingInited||(this.tabTrapper.removeAttribute("tabindex"),this.tabTrapper.removeAttribute("aria-hidden"))}},{key:"document",get:function(){return this.root.ownerDocument||document}},{key:"topOverlay",get:function(){return this.overlays.slice(-1)[0]}},{key:"findOverlayForContent",value:function(e){var t,n=(0,u.Z)(this.overlays);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e===r.overlayContent)return r}}catch(i){n.e(i)}finally{n.f()}}},{key:"addEventListeners",value:function(){this._eventsAreBound||(this._eventsAreBound=!0,this.document.addEventListener("click",this.handleMouseCapture,!0),this.document.addEventListener("click",this.handleMouse),this.document.addEventListener("keydown",this.handleKeydown),this.document.addEventListener("sp-overlay-close",this.handleOverlayClose),window.addEventListener("resize",this.handleResize))}},{key:"isClickOverlayActiveForTrigger",value:function(e){return this.overlays.some((function(t){return e===t.trigger&&"click"===t.interaction}))}},{key:"openOverlay",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t){var n,r,o,s,l,c,u,f;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.addEventListeners(),!this.findOverlayForContent(t.content)){e.next=2;break}return e.abrupt("return",!1);case 2:if(t.notImmediatelyClosable&&(this._doesNotCloseOnFirstClick=!0),"modal"===t.interaction&&this.startTabTrapping(),n=t.content,r=t.trigger,n.overlayWillOpenCallback&&n.overlayWillOpenCallback({trigger:r}),!t.delayed){e.next=12;break}return o=[this.overlayTimer.openTimer(t.content)],t.abortPromise&&o.push(t.abortPromise),e.next=9,Promise.race(o);case 9:if(!(s=e.sent)){e.next=12;break}return e.abrupt("return",(n.overlayOpenCancelledCallback&&n.overlayOpenCancelledCallback({trigger:r}),s));case 12:if(t.root&&this.closeOverlaysForRoot(t.root),"click"!==t.interaction){e.next=16;break}this.closeAllHoverOverlays(),e.next=18;break;case 16:if("hover"!==t.interaction||!this.isClickOverlayActiveForTrigger(t.trigger)){e.next=18;break}return e.abrupt("return",!0);case 18:return l=Qe.create(t),this.overlays.length&&this.overlays[this.overlays.length-1].obscure(l.interaction),document.body.appendChild(l),e.next=23,nt();case 23:return this.overlays.push(l),e.next=26,l.updateComplete;case 26:if(this.addOverlayEventListeners(l),e.t0="undefined"!=typeof n.open,!e.t0){e.next=32;break}return e.next=31,nt();case 31:n.open=!0;case 32:return c=function(){},n.overlayOpenCallback&&(u=l.trigger,f=n.overlayOpenCallback,c=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({trigger:u});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),e.next=36,l.openCallback(c);case 36:return e.abrupt("return",!1);case 37:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addOverlayEventListeners",value:function(e){var t=this;switch(e.addEventListener("close",(function(){t.hideAndCloseOverlay(e,!0)})),e.interaction){case"replace":this.addReplaceOverlayEventListeners(e);break;case"inline":this.addInlineOverlayEventListeners(e)}}},{key:"addReplaceOverlayEventListeners",value:function(e){var t=this;e.addEventListener("keydown",(function(n){"Tab"===n.code&&(n.stopPropagation(),t.closeOverlay(e.overlayContent),e.tabbingAway=!0,e.trigger.focus(),e.trigger.dispatchEvent(new KeyboardEvent("keydown",n)))}))}},{key:"addInlineOverlayEventListeners",value:function(e){var t=this;e.trigger.addEventListener("keydown",e.handleInlineTriggerKeydown),e.addEventListener("keydown",(function(n){var r=n.code,i=n.shiftKey;if("Tab"===r){if(e.tabbingAway=!0,i){var o=document.createElement("span");return o.tabIndex=-1,e.trigger.hasAttribute("slot")&&(o.slot=e.trigger.slot),e.trigger.insertAdjacentElement("afterend",o),o.focus(),void o.remove()}n.stopPropagation();var a=e.trigger;"undefined"!=typeof a.open&&(a.open=!1),t.closeOverlay(e.overlayContent),e.trigger.focus()}}))}},{key:"closeOverlay",value:function(e){var t=this;this.overlayTimer.close(e),requestAnimationFrame((function(){var n=t.findOverlayForContent(e),r=[n];r.push.apply(r,(0,c.Z)(O(n,t.overlays))),r.forEach((function(e){return t.hideAndCloseOverlay(e)}))}))}},{key:"closeAllHoverOverlays",value:function(){var e,t=(0,u.Z)(this.overlays);try{for(t.s();!(e=t.n()).done;){var n=e.value;"hover"===n.interaction&&this.hideAndCloseOverlay(n,!1)}}catch(r){t.e(r)}finally{t.f()}}},{key:"closeOverlaysForRoot",value:function(e){var t,n=this,r=[],i=(0,u.Z)(this.overlays);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.root&&o.root===e&&(r.push(o),r.push.apply(r,(0,c.Z)(O(o,this.overlays))))}}catch(a){i.e(a)}finally{i.f()}r.forEach((function(e){return n.hideAndCloseOverlay(e,!0,!0)}))}},{key:"manageFocusAfterCloseWhenOverlaysRemain",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=this.overlays[this.overlays.length-1]).feature(),"modal"!==r.interaction&&!r.hasModalRoot){e.next=8;break}if(!t){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,(n||r).focus();case 6:e.next=9;break;case 8:this.stopTabTrapping();case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"manageFocusAfterCloseWhenLastOverlay",value:function(e){this.stopTabTrapping();var t="modal"===e.interaction,n="auto"===e.receivesFocus,r="replace"===e.interaction,i="inline"===e.interaction,o=(r||i)&&!e.tabbingAway;if(e.tabbingAway=!1,t||n||o){var a,s,l=e.overlayContent.getRootNode().activeElement;(t||e.overlayContent.contains(l)||(a=e.trigger.getRootNode(),s=a.activeElement,a.contains(s))||a.host&&a.host===s)&&e.trigger.focus()}}},{key:"hideAndCloseOverlay",value:function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n,r){var o,a,s,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if("undefined"==typeof(o=t.overlayContent).overlayWillCloseCallback){e.next=7;break}if(a=t.trigger,!o.overlayWillCloseCallback({trigger:a})){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,t.hide(n);case 9:if("undefined"!=typeof o.open&&(o.open=!1),!o.overlayCloseCallback){e.next=14;break}return s=t.trigger,e.next=14,o.overlayCloseCallback({trigger:s});case 14:if("dispose"==t.state){e.next=16;break}return e.abrupt("return");case 16:if((l=this.overlays.indexOf(t))>=0&&this.overlays.splice(l,1),!this.overlays.length){e.next=23;break}return e.next=21,this.manageFocusAfterCloseWhenOverlaysRemain(r||"hover"===t.interaction,t.trigger);case 21:e.next=24;break;case 23:this.manageFocusAfterCloseWhenLastOverlay(t);case 24:return e.next=26,t.updateComplete;case 26:t.remove(),t.dispose(),t.trigger.dispatchEvent(new CustomEvent("sp-closed",{bubbles:!0,composed:!0,cancelable:!0,detail:{interaction:t.interaction}}));case 29:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"closeTopOverlay",value:function(){return this.hideAndCloseOverlay(this.topOverlay,!0)}}]),e}(),it=function(){function e(t,n,r){(0,s.Z)(this,e),this.isOpen=!1,this.owner=t,this.overlayElement=r,this.interaction=n}return(0,l.Z)(e,[{key:"open",value:function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n){var r,a,s,l,c,u,f,p,h,d,v,m,y,g;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.abortPromise,a=n.delayed,s=n.offset,l=void 0===s?0:s,c=n.placement,u=void 0===c?"top":c,f=n.receivesFocus,p=n.notImmediatelyClosable,h=n.virtualTrigger,d=n.root,!this.isOpen){t.next=3;break}return t.abrupt("return",!0);case 3:return void 0===a&&(a=this.overlayElement.hasAttribute("delayed")),v={color:void 0,scale:void 0,lang:void 0,theme:void 0},m=new CustomEvent("sp-query-theme",{bubbles:!0,composed:!0,detail:v,cancelable:!0}),this.owner.dispatchEvent(m),y={},g=new CustomEvent("sp-overlay-query",{bubbles:!0,composed:!0,detail:y,cancelable:!0}),this.overlayElement.dispatchEvent(g),t.next=10,e.overlayStack.openOverlay((0,o.Z)({abortPromise:r,content:this.overlayElement,contentTip:y.overlayContentTipElement,delayed:a,offset:l,placement:u,trigger:this.owner,interaction:this.interaction,theme:v,receivesFocus:f,root:d,notImmediatelyClosable:p,virtualTrigger:h},y));case 10:return this.isOpen=!0,t.abrupt("return",!0);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"close",value:function(){e.overlayStack.closeOverlay(this.overlayElement)}}],[{key:"open",value:function(){var t=(0,a.Z)((0,i.Z)().mark((function t(n,r,o,a){var s;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=new e(n,r,o),t.next=3,s.open(a);case 3:return t.abrupt("return",(function(){s.close()}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}()},{key:"update",value:function(){var e=new CustomEvent("sp-update-overlays",{bubbles:!0,composed:!0,cancelable:!0});document.dispatchEvent(e)}}]),e}(),ot=it;ot.overlayStack=new rt}}]);
//# sourceMappingURL=640.93c2e067.chunk.js.map